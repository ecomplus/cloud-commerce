---
import PagesLayout,
  { Props as PagesLayoutProps } from '../lib/layouts/Pages.astro';
import InlineScripts from '../scripts/InlineScripts.astro';

export interface Props extends PagesLayoutProps {}

const props = Astro.props as Props;
const pagesLayoutProps: PagesLayoutProps = {
  ...props,
  headerProps: {
    ...props.headerProps,
    logoTransformOptions: {
      quality: 80,
      ...props.headerProps?.logoTransformOptions,
    }
  },
};
---

<PagesLayout {...pagesLayoutProps}>
  <InlineScripts slot="before-head-end" />
  <slot />
</PagesLayout>

<style is:global>
@media only screen and (prefers-color-scheme: dark) {
  :root:not([data-theme=light]) a:not([role=button]) {
    --color: var(--primary-100);
  }
  :root:not([data-theme=light]) a:not([role=button]):is([aria-current], :hover, :active, :focus) {
    --color: var(--primary-300);
  }
}
body {
  overflow-x: hidden;
}
</style>

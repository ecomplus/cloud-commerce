---
import BaseBody from '@@sf/layouts/BaseBody.astro';

const { getContent } = Astro.locals.routeContext;
const { custom_code: customCodeContent } = await getContent('layout');
---

<head>
  <slot name="base-head" />
  {customCodeContent?.css && <style>{customCodeContent.css}</style>}
  {customCodeContent?.html_head && <Fragment set:html={customCodeContent.html_head} />}
  <slot name="base-head-scripts">
    <script src="../scripts/modules-info-preset"></script>
  </slot>
  <slot name="before-head-end" />
</head>
<BaseBody>
  <slot />
  {customCodeContent?.html_body && <Fragment set:html={customCodeContent.html_body} />}
  <slot name="base-body-scripts">
    <script src="../scripts/session-utm"></script>
  </slot>
  <slot name="before-body-end" />
</BaseBody>

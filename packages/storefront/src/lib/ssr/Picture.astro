---
import { Picture } from '@astrojs/image/components';
import { getAspectRatio } from '@@sf/ssr/image';

export type Props = Parameters<typeof Picture>[0];

const props = Astro.props as Props;
if (!props.aspectRatio && typeof props.src === 'string') {
  props.aspectRatio = getAspectRatio(props.src);
}
---

<Picture {...props} />
